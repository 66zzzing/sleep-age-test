import { useState } from react;
import { Card, CardContent } from @componentsuicard;
import { Button } from @componentsuibutton;

const questions = [
  {
    question 你的平均入睡時間是？,
    options [
      { text 10分鐘內, score 5 },
      { text 10-20分鐘, score 4 },
      { text 20-30分鐘, score 3 },
      { text 30-45分鐘, score 2 },
      { text 超過45分鐘, score 1 },
    ],
  },
  {
    question 你每天平均睡幾小時？,
    options [
      { text 7-9小時, score 5 },
      { text 6-7小時, score 4 },
      { text 5-6小時, score 3 },
      { text 4-5小時, score 2 },
      { text 少於4小時, score 1 },
    ],
  },
   更多問題...
];

export default function SleepTest() {
  const [answers, setAnswers] = useState(Array(questions.length).fill(null));
  const [result, setResult] = useState(null);

  const calculateScore = () = {
    const totalScore = answers.reduce((sum, val) = sum + (val  0), 0);
    if (totalScore = 45) return 18-25歲 (睡眠品質佳);
    if (totalScore = 38) return 26-35歲 (狀況良好);
    if (totalScore = 30) return 36-45歲 (需改善);
    if (totalScore = 20) return 46-60歲 (影響健康);
    return 60歲以上 (嚴重影響身體);
  };

  return (
    div className=p-6 max-w-lg mx-auto
      h1 className=text-2xl font-bold mb-4🛏️ 睡眠年齡測驗h1
      {questions.map((q, i) = (
        Card key={i} className=mb-4 p-4
          h2 className=font-semibold{q.question}h2
          div className=mt-2 space-y-2
            {q.options.map((opt, j) = (
              button
                key={j}
                className={`block w-full p-2 rounded border ${answers[i] === opt.score  bg-blue-500 text-white  bg-gray-100}`}
                onClick={() = setAnswers((prev) = {
                  const newAnswers = [...prev];
                  newAnswers[i] = opt.score;
                  return newAnswers;
                })}
              
                {opt.text}
              button
            ))}
          div
        Card
      ))}
      Button className=w-full mt-4 onClick={() = setResult(calculateScore())}
        查看結果
      Button
      {result && (
        Card className=mt-4 p-4 bg-green-100
          h2 className=text-xl font-bold你的睡眠年齡：{result}h2
        Card
      )}
    div
  );
}
